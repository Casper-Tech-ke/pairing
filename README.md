<p align="center">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 120" width="400" height="120">
    <defs>
      <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:#7b2cbf"/>
        <stop offset="100%" style="stop-color:#ff9e00"/>
      </linearGradient>
    </defs>
    <rect rx="20" ry="20" width="400" height="120" fill="none" stroke="url(#grad)" stroke-width="4"/>
    <text x="200" y="78" text-anchor="middle" font-family="Arial,sans-serif" font-weight="900" font-size="52" fill="url(#grad)">CASPER</text>
  </svg>
</p>

<h1 align="center">CASPER XD ULTRA - Pairing</h1>

<p align="center">
  <b>Session Generator for CASPER XD ULTRA WhatsApp Bot</b><br>
  A web-based pairing tool that generates session IDs for the <a href="https://github.com/Casper-Tech-ke/CASPER-XD-ULTRA">CASPER XD ULTRA</a> WhatsApp bot using Pair Code and QR Code methods.
</p>

<p align="center">
  <a href="https://github.com/Casper-Tech-ke/CASPER-XD-ULTRA/fork">
    <img src="https://img.shields.io/badge/-FORK%20REPO-7b2cbf?style=for-the-badge&logo=github&logoColor=white" alt="Fork Repo"/>
  </a>
  <a href="https://github.com/Casper-Tech-ke/CASPER-XD-ULTRA/stargazers">
    <img src="https://img.shields.io/badge/-STAR%20REPO-ff9e00?style=for-the-badge&logo=github&logoColor=white" alt="Star Repo"/>
  </a>
</p>

<p align="center">
  <a href="https://t.me/casper_tech_ke">
    <img src="https://img.shields.io/badge/Telegram-Support-2CA5E0?style=flat-square&logo=telegram&logoColor=white" alt="Telegram"/>
  </a>
  <a href="https://whatsapp.com/channel/0029VbCK8vlKwqSSkFkC1l2k">
    <img src="https://img.shields.io/badge/WhatsApp-Channel%201-25D366?style=flat-square&logo=whatsapp&logoColor=white" alt="WhatsApp Channel 1"/>
  </a>
  <a href="https://whatsapp.com/channel/0029Vb6XJQQHrDZi1RzKu90t">
    <img src="https://img.shields.io/badge/WhatsApp-Channel%202-25D366?style=flat-square&logo=whatsapp&logoColor=white" alt="WhatsApp Channel 2"/>
  </a>
  <a href="https://github.com/Casper-Tech-ke">
    <img src="https://img.shields.io/badge/GitHub-Casper--Tech--ke-181717?style=flat-square&logo=github&logoColor=white" alt="GitHub"/>
  </a>
</p>

---

## What is This?

This is the **Pairing** tool for the [CASPER XD ULTRA](https://github.com/Casper-Tech-ke/CASPER-XD-ULTRA) WhatsApp bot. It generates session IDs that you need to connect the bot to your WhatsApp account.

This is **not** the bot itself. To get the bot, visit the [CASPER XD ULTRA repository](https://github.com/Casper-Tech-ke/CASPER-XD-ULTRA).

---

## Features

- **Pair Code Login** - Connect your WhatsApp using a simple pairing code without scanning
- **QR Code Login** - Traditional QR code scanning for quick connection
- **Session Compression** - Sessions are compressed with zlib for compact storage
- **Copy Button** - One-tap copy of your session ID directly from WhatsApp
- **Auto Cleanup** - Temporary session files are automatically removed after use
- **No Reconnection** - After a successful pairing, the connection closes cleanly with no extra reconnections
- **Responsive UI** - Beautiful dark-themed interface that works on all devices
- **Particle Effects** - Animated background for a premium look and feel

---

## How It Works

1. Open the pairing website
2. Choose **Pair Code** or **QR Code** method
3. Enter your phone number (for pair code) or scan the QR code
4. A session ID will be sent to your WhatsApp
5. Copy the session ID and use it in the [CASPER XD ULTRA](https://github.com/Casper-Tech-ke/CASPER-XD-ULTRA) bot

---

## Session Format

Sessions generated by this pairing tool start with the prefix:

```
CASPER-XD-ULTRA;<session_data>
```

Use this session ID when configuring the [CASPER XD ULTRA](https://github.com/Casper-Tech-ke/CASPER-XD-ULTRA) bot.

---

## Deploy the Pairing Tool

Deploy this pairing tool on any platform of your choice. Below are detailed instructions for each method.

---

### 1. Replit Deployment (Recommended for Beginners)

The easiest way to deploy. No server setup required.

**Step 1:** Create a free Replit account using this link:

<a href="https://replit.com/refer/johnmainaengie">
  <img src="https://img.shields.io/badge/-CREATE%20REPLIT%20ACCOUNT-667881?style=for-the-badge&logo=replit&logoColor=white" alt="Create Replit Account"/>
</a>

**Step 2:** Click the button below to import the repo:

<a href="https://replit.com/github/Casper-Tech-ke/CASPER-XD-ULTRA">
  <img src="https://img.shields.io/badge/-IMPORT%20TO%20REPLIT-667881?style=for-the-badge&logo=replit&logoColor=white" alt="Import to Replit"/>
</a>

**Step 3:** Once imported, click the **Run** button at the top. The pairing tool will start automatically on port 5000.

**Step 4:** To keep it running 24/7, click **Publish** in the top right corner and follow the prompts to deploy.

> **Tip:** Replit handles everything for you - no need to install Node.js, manage servers, or configure ports.

---

### 2. Heroku Deployment

**Step 1:** Click the button below to deploy directly to Heroku:

<a href="https://dashboard.heroku.com/new?template=https://github.com/Casper-Tech-ke/CASPER-XD-ULTRA">
  <img src="https://img.shields.io/badge/-DEPLOY%20TO%20HEROKU-430098?style=for-the-badge&logo=heroku&logoColor=white" alt="Deploy to Heroku"/>
</a>

**Step 2:** Give your app a name, choose a region, and click **Deploy App**.

**Step 3:** Once deployed, click **View** to open the pairing tool.

---

### 3. Render Deployment

**Step 1:** Go to [Render Dashboard](https://dashboard.render.com)

<a href="https://dashboard.render.com">
  <img src="https://img.shields.io/badge/-DEPLOY%20TO%20RENDER-46E3B7?style=for-the-badge&logo=render&logoColor=white" alt="Deploy to Render"/>
</a>

**Step 2:** Click **New** > **Web Service**

**Step 3:** Connect your GitHub account and select the repository

**Step 4:** Configure:
| Setting | Value |
|---------|-------|
| Name | `casper-pairing` |
| Runtime | `Node` |
| Build Command | `npm install` |
| Start Command | `node index.js` |

**Step 5:** Click **Create Web Service** and wait for deployment.

---

### 4. Koyeb Deployment

<a href="https://app.koyeb.com">
  <img src="https://img.shields.io/badge/-DEPLOY%20TO%20KOYEB-121212?style=for-the-badge&logo=koyeb&logoColor=white" alt="Deploy to Koyeb"/>
</a>

**Step 1:** Go to [Koyeb Dashboard](https://app.koyeb.com)

**Step 2:** Create a new app and connect your GitHub repository

**Step 3:** Set the run command to `node index.js`

**Step 4:** Deploy and access the pairing tool via the provided URL

---

### 5. VPS / Self-Hosting Deployment

For advanced users who want full control over their deployment.

**Prerequisites:**
- A VPS or server (Ubuntu/Debian recommended)
- SSH access to your server
- Node.js 18+ installed

**Step 1: Install Node.js**
```bash
curl -fsSL https://deb.nodesource.com/setup_20.x | bash -
apt-get install -y nodejs git
```

**Step 2: Clone the repository**
```bash
git clone https://github.com/Casper-Tech-ke/CASPER-XD-ULTRA.git
cd CASPER-XD-ULTRA
```

**Step 3: Install dependencies**
```bash
npm install
```

**Step 4: Install PM2 for process management**
```bash
npm install -g pm2
```

**Step 5: Start the pairing tool**
```bash
PORT=9989 pm2 start index.js --name casper-pairing
pm2 startup
pm2 save
```

**Step 6:** Access the pairing tool at `http://your-server-ip:9989`

**Useful PM2 Commands:**
| Command | Description |
|---------|-------------|
| `pm2 logs casper-pairing` | View live logs |
| `pm2 restart casper-pairing` | Restart the app |
| `pm2 stop casper-pairing` | Stop the app |
| `pm2 delete casper-pairing` | Remove from PM2 |
| `pm2 monit` | Monitor resources |

---

### 6. cPanel Deployment

**Step 1:** Upload the project files to your cPanel file manager

**Step 2:** Set up a Node.js application in cPanel:
- Application root: `/casper-pairing`
- Application startup file: `index.js`
- Node.js version: `20.x`

**Step 3:** Run `npm install` in the terminal

**Step 4:** Start the application

---

## Using the Session in CASPER XD ULTRA Bot

After generating a session with this pairing tool, you'll receive a session ID starting with `CASPER-XD-ULTRA;`. Here's how to use it in the bot:

```js
const fs = require('fs');
const zlib = require('zlib');
const path = require('path');

const sessionDir = path.join(__dirname, 'session');
const credsPath = path.join(sessionDir, 'creds.json');

async function loadSession() {
    if (!fs.existsSync(sessionDir)) {
        fs.mkdirSync(sessionDir, { recursive: true });
    }

    const [header, b64data] = config.SESSION_ID.split(';');

    if (header !== 'CASPER-XD-ULTRA' || !b64data) {
        throw new Error('Invalid session format. Expected CASPER-XD-ULTRA;...');
    }

    const compressedData = Buffer.from(b64data, 'base64');
    const decompressedData = zlib.gunzipSync(compressedData);

    fs.writeFileSync(credsPath, decompressedData, 'utf8');
    console.log('Session loaded successfully');
}

module.exports = { loadSession };
```

---

## Project Structure

```
Pairing/
├── index.js            # Express server entry point
├── package.json        # Dependencies and project config
├── app.json            # Heroku/platform app config
├── heroku.yml          # Heroku deployment config
├── SECURITY.md         # Security and usage policy
├── README.md           # This file
├── lib/
│   └── index.js        # Utility functions (casperId, removeFile, generateRandomCode)
├── routes/
│   ├── index.js        # Route exports
│   ├── pair.js         # Pair code session generation
│   └── qr.js           # QR code session generation
├── public/
│   ├── index.html      # Main landing page
│   └── pair.html       # Pair code page
└── deploy/
    └── cpanel.yml      # cPanel deployment config
```

---

## Security Policy

This project allows **forking** but requires proper credit to the original author. See [SECURITY.md](./SECURITY.md) for full details.

**You MUST:**
- Keep credit to **TRABY CASPER** in all forks and copies
- Not remove or alter author attribution
- Not claim this project as your own

---

## Author

<p align="center">
  <b>TRABY CASPER</b><br>
  <i>Casper Tech</i>
</p>

<p align="center">
  <a href="https://github.com/Casper-Tech-ke">GitHub</a> |
  <a href="https://t.me/casper_tech_ke">Telegram</a> |
  <a href="https://whatsapp.com/channel/0029VbCK8vlKwqSSkFkC1l2k">WhatsApp Channel</a>
</p>

---

<p align="center">
  <b>Copyright (c) 2024-2026 TRABY CASPER. All rights reserved.</b>
</p>
